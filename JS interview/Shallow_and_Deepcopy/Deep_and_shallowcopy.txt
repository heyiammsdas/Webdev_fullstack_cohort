// Shared reference of Obj to Obj2 

let obj = {
    name: "Madhu" ,
    age: 23 ,
    qualification: "Undergraduate" 
}


let obj2 = obj ;

console.log(obj) ;
console.log(obj2) ;



// Shallow copy : copy top level properties but if there is nested array or 
// object reference will be shared 

let obj = {
    name: "Madhu" ,
    age: 23 ,
    qualification: "Undergraduate" 
}


let obj2 = {...obj} ;

obj2.name = "Tarun" ;


console.log(obj) ;
console.log(obj2) ;

// It will change the both obj and obj2 

let obj = {
    name: "Madhu" ,
    age: 23 ,
    qualification: "Undergraduate" ,
    project : {
        Public : "Todo" ,
        Private: "Ye lelo" 
    }
}


let obj2 = {...obj} ;

obj2.name = "Tarun" ;
obj2.project.Public = "NoteCrypt" ;



console.log(obj) ;
console.log(obj2) ;

// Deepcopy : This is actual copy. Copies everything top level and nested
//objects/arrays (fully independent).
 
let obj = {
    name: "Madhu" ,
    age: 23 ,
    qualification: "Undergraduate" ,
    project : {
        Public : "Todo" ,
        Private: "Ye lelo" 
    }
}

let obj2 =  JSON.parse(JSON.stringify(obj) ); // important

obj2.name = "Tamal" ;
obj2.project.Public = "NoteCrypt" ;

console.log(obj) ;
console.log(obj2) ;




// Creating deepcopy without using the JSON
function makeDeepcopy(obj) {
    if(typeof obj !== 'object' || obj === null) {
        return obj ;
    }
    let copiedval = Array.isArray(obj) ? [] : {} ;
    
    let key = Object.keys(obj) ;
    
    for(let i = 0 ; i< key.length ; i++) {
        copiedval[key[i]] = makeDeepcopy(obj[key[i]]) ;
    }
    
    return copiedval ;
}

let obj = {
    name: "Madhu" ,
    age: 23 ,
    qualification: "Undergraduate" ,
    project : {
        Public : "Todo" ,
        Private: "Ye lelo" 
    }
}

let obj2  = makeDeepcopy(obj) ;
console.log(obj) ;
console.log(obj2) ;



